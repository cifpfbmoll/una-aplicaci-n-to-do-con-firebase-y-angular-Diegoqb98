<div class="task-form-container">
  <form (ngSubmit)="onSubmit()" #taskForm="ngForm" class="modern-form">
    
    <!-- Input Group -->
    <div class="input-group">
      <div class="input-wrapper">
        <input
          type="text"
          id="taskTitle"
          name="taskTitle"
          [(ngModel)]="taskTitle"
          required
          maxlength="100"
          placeholder="Â¿QuÃ© necesitas hacer?"
          class="modern-input primary-input"
          [disabled]="isSubmitting"
        />
        <div class="input-icon">âœï¸</div>
      </div>
      
      <div class="expandable-section" [class.expanded]="showDescription">
        <div class="input-wrapper">
          <textarea
            id="taskDescription"
            name="taskDescription"
            [(ngModel)]="taskDescription"
            maxlength="500"
            placeholder="AÃ±ade algunos detalles..."
            class="modern-input description-input"
            rows="2"
            [disabled]="isSubmitting"
          ></textarea>
          <div class="input-icon">ğŸ’­</div>
        </div>
      </div>
    </div>

    <!-- Action Bar -->
    <div class="action-bar">
      <div class="quick-actions">
        <button
          type="button"
          class="quick-btn"
          (click)="toggleDescription()"
          [class.active]="showDescription"
        >
          <span class="icon">ğŸ“</span>
          DescripciÃ³n
        </button>
        
        <button
          type="button"
          class="quick-btn"
          (click)="setPriority('high')"
          [class.active]="priority === 'high'"
        >
          <span class="icon">ğŸ”¥</span>
          Urgente
        </button>
        
        <button
          type="button"
          class="quick-btn"
          (click)="setPriority('normal')"
          [class.active]="priority === 'normal'"
        >
          <span class="icon">â­</span>
          Normal
        </button>
      </div>

      <div class="submit-section">
        <button
          type="button"
          class="btn-circle btn-cancel"
          (click)="onCancel()"
          [disabled]="isSubmitting"
          title="Cancelar"
        >
          âœ•
        </button>
        
        <button
          type="submit"
          class="btn-circle btn-submit"
          [disabled]="!taskTitle.trim() || isSubmitting"
          [class.loading]="isSubmitting"
          title="Agregar tarea"
        >
          <span *ngIf="!isSubmitting" class="icon">+</span>
          <span *ngIf="isSubmitting" class="spinner-circle"></span>
        </button>
      </div>
    </div>
    
    <!-- Character Counter -->
    <div class="form-footer" *ngIf="taskTitle.length > 0">
      <div class="char-counter">
        <span [class.warning]="taskTitle.length > 80">
          {{ taskTitle.length }}/100
        </span>
      </div>
      <div class="tips">
        <span class="tip">ğŸ’¡ MantÃ©n el tÃ­tulo claro y conciso</span>
      </div>
    </div>
  </form>
</div>
